<!--KBDATA:{"title":"Navigating by the Stars and a Computer – Part 1","date":"28th April 2017 at 2:07pm","subtitle":"Using modern tech to implement an ancient technique","link":"Navigating by the Stars and a Computer – Part 1.html"}-->
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Navigating by the Stars and a Computer – Part 1 | Kerwizzy's Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/clean-blog.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <!-- <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="index.html">Kerwizzy's Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>
					<li>
                        <a href="http://kerwizzy.github.io">Kerwizzy's Programming Lab</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('PostHeaderImage_v2_scaled.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Navigating by the Stars and a Computer – Part 1</h1>
                        <h2 class="subheading">Using modern tech to implement an ancient technique</h2>
                        <span class="meta">Posted by <a href="about.html">Kerwizzy</a> on 28th April 2017 at 2:07pm</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
				
				</p><p>For centuries, sailors and explorers have used the stars to determine their position on the globe. By measuring the angle that the North Star (<a href="https://en.wikipedia.org/wiki/Polaris">Polaris</a>) appears above the horizon, navigators could determine their latitude. By measuring the rotation of the field of stars, and comparing to the time, navigators could determine their longitude.</p><p>Nowadays, these skills are all but forgotten. We can simply take any <a href="https://en.wikipedia.org/wiki/Global_Positioning_System">GPS</a> enabled device and immediately know our location to within about fifty feet – hundreds of times better accuracy than what was possible with conventional star-based navigation.</p><p>Last week I had the idea, &quot;What if we used a camera and a computer to find our position?&quot; It seemed a single picture of the sky would provide all the information necessary to find one's position on the globe. This was my plan for calculating the position of a picture of the sky:</p><ol><li>Measure the number of pixels between one specific star and another. (I decided to use <a href="https://en.wikipedia.org/wiki/Alpha_Ursae_Majoris">Duhbe</a> and <a href="https://en.wikipedia.org/wiki/Polaris">Polaris</a>) This allows you to figure out how many degrees of the sky are covered by one pixel.</li><li>Measure the number of pixels between the horizon and Polaris. Multiply by the number from the previous step. This will be the angle between the horizon and Polaris, which will be equal to the latitude at which the picture was taken.</li><li>Measure the angle that some specific star appears to be around Polaris. (Imagine something like a clock, with Polaris at the center and another star moving counter-clockwise around Polaris as the earth spins) By knowing this and the <a href="https://en.wikipedia.org/wiki/Greenwich_Mean_Time">GMT</a> time, one can calculate the <a href="https://en.wikipedia.org/wiki/Longitude">longitude</a> at which the picture was taken.</li></ol><p>With this plan in mind, I started writing a program in Javascript to help me perform the above calculations. I planned to have it instruct the user to click on the horizon, Polaris, and Duhbe, and then have it run all the subsequent calculations automatically.</p><p>I wrote a prototype of my program fairly quickly. From the locations a user clicked, it calculated the number of degrees per pixel and then tried to calculate only the latitude. (I planned to add longitude later) I looked around on the Internet for some star pictures to test my program with. I found the actual locations at which the pictures were taken by using other sources, and then opened the pictures in my program. </p><p><img src="KerwizzyBlogData/Navigating_by_the_Stars_Part1-ExampleFromProgram.jpg"><br><em>A test picture after I clicked on the reference points and entered them into my program. The picture was taken at about 3:30 AM in July 2013. The green line shows the horizon line I inputted, the red dot shows my input for the location of Dubhe, the cyan dot shows my input for Polaris. My program estimated the latitude to be 42.007 degrees. The actual latitude is 40.898 degrees. Photo credit: Tom Wildoner.  I found the picture <a href="http://earthsky.org/?p=3166">here</a></em><br></p><p>Sadly, my program's estimates of latitude were usually a few degrees different from the real values. (Admittedly, these values were fairly accurate, but their accuracy is nowhere near what seems possible) I sort of scratched my head and waited till the weather cleared up and I could take my own test pictures.</p><p>When the weather cleared up, I went outside and took pictures. Because my camera (a Nikon D3300 with a lens set to 18mm) did not have a wide enough viewing angle to reach from the horizon to Duhbe, I needed to take several overlapping pictures. When I went to stitch my pictures together, I encountered a problem: my pictures did not line up.</p><p>For a little bit, I did not know what the problem was. Were my pictures rotated differently? Had I accidentally changed the focal length between the pictures? Neither of these made sense, so I looked for other answers. Soon I had a guess of what the problem was: my lens caused my image to be significantly distorted. To confirm this theory, I tried taking a picture of a straight yardstick held a few feet away from my camera. And sure enough, the yardstick appeared bent in my picture. </p><p><img src="KerwizzyBlogData/Navigating_by_the_Stars_Part1-StichingProblem.jpg"><br><em>This image illustrates the problem I encountered when trying to stitch two images together. The cyan lines show the boundary between the images. The upper image is slightly transparent to allow the lower image to show through. I tried to offset the images so they aligned at the location marked by the yellow dot. However, it is clear that they do not align in areas far away from the dot. Both images were taken with a focal length of 18mm</em><br></p><p>I'm not convinced that my goal is impossible, but I'll need to do a lot more work to get my program to output really accurate values. In theory, in order to make my program give very accurate estimates of latitude, I will have to:</p><ol><li>Find some way of removing lens distortion in the pictures, as this is stopping me from stitching my images together and may also be causing inaccuracies in my results. There must be some way of removing this distortion, because programs for making panoramas must have to account for it.</li><li>See if that is the whole problem (I'm not entirely sure that it is)</li><li>Correct for any other problems with the pictures</li><li>Stitch my pictures together into one large image (Or use other people's wider angle images)</li><li>Correct for astronomical errors (For example, Polaris is actually about 0.8 degrees away from the real celestial pole, so its angle above the horizon will not exactly equal the latitude of a picture)</li></ol><p>I may or may not take the time and effort to implement this plan. In any case, this project has been an interesting foray into image stitching and accurate, GPS-independent navigation!</p>
				
				<BR>
				<hr>
				Comment on <a href='https://twitter.com/kerwizzy'>Twitter</a>
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://twitter.com/kerwizzy">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/kerwizzy">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Kerwizzy 2017</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>

